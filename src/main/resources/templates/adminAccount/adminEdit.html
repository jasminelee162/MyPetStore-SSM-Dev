<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>编辑商家账户信息</title>
  <link rel="StyleSheet" href="/css/account.css" type="text/css" media="screen"/>

</head>
<body>

<!--<header th:replace="~{common/top}"></header>-->
<h2>编辑商家账户信息</h2>
<div class="registration-form" id="registration-form">
  <form th:action="@{/adminAccount/editAccount}" method="post" enctype="application/x-www-form-urlencoded" onsubmit="return validatePassword()">


    <fieldset>
      <legend>账户信息</legend>
      <table>
        <tr>
          <td><label for="password">新密码:</label></td>
          <td><input type="password" id="password" name="password" required placeholder="请输入新密码" /></td>
        </tr>
        <tr>
          <td><label for="confirmPassword">确认新密码:</label></td>
          <td><input type="password" id="confirmPassword" name="confirmPassword" required placeholder="请确认新密码" /></td>
        </tr>
        <tr>
          <td><label for="email">邮箱:</label></td>
          <td><input type="email" id="email" th:field="*{loginAccount.email}" required placeholder="请输入邮箱"  /></td>
        </tr>
        <tr>
          <td><label for="phone">电话:</label></td>
          <td><input type="tel" id="phone" th:field="*{loginAccount.phone}" required placeholder="请输入电话" /></td>
        </tr>
        <tr>
          <td><label for="address1">商家地址 1:</label></td>
          <td><input type="text" id="address1" th:field="*{loginAccount.addr1}" placeholder="请输入地址 1" /></td>
        </tr>
        <tr>
          <td><label for="address2">备用地址 2:</label></td>
          <td><input type="text" id="address2" th:field="*{loginAccount.addr2}" placeholder="请输入地址 2" /></td>
        </tr>
        <tr>
          <td><label for="city">城市:</label></td>
          <td><input type="text" id="city" th:field="*{loginAccount.city}" placeholder="请输入城市" /></td>
        </tr>
        <tr>
          <td><label for="state">州/省:</label></td>
          <td><input type="text" id="state" th:field="*{loginAccount.state}" placeholder="请输入州/省" /></td>
        </tr>
        <tr>
          <td><label for="zip">邮编:</label></td>
          <td><input type="text" id="zip" th:field="*{loginAccount.zip}" placeholder="请输入邮编" /></td>
        </tr>
        <tr>
          <td><label for="country">国家:</label></td>
          <td><input type="text" id="country" th:field="*{loginAccount.country}" required placeholder="请输入国家" /></td>
        </tr>
      </table>
    </fieldset>

    <fieldset>
      <legend>个人信息</legend>
      <table>
        <tr>
          <td><label for="languagePreference">语言偏好:</label></td>
          <td>
            <select id="languagePreference" th:field="*{loginAccount.langpref}">
              <option value="english" th:selected="${loginAccount.langpref == 'english'}">English</option>
              <option value="japanese" th:selected="${loginAccount.langpref == 'japanese'}">Japanese</option>
            </select>
          </td>
        </tr>
      </table>
    </fieldset>

    <div class="form-actions">
      <button type="submit">保存修改</button>
    </div>
  </form>

  <!-- 错误信息显示 -->
  <div class="error" th:text="${error}"></div>
</div>
<a th:href="@{/catalog/adminIndex}">返回后台管理首页</a>
<footer th:replace="common/bottom"></footer>
</body>

</html>
<script>
  // 使用JavaScript做前端验证
  document.querySelector("form").onsubmit = function() {
    var password = document.getElementById("password").value;
    var confirmPassword = document.getElementById("confirmPassword").value;
    if (password !== confirmPassword) {
      alert("密码和确认密码不一致，请重新输入！");
      return false;  // 阻止表单提交
    }
    return true;
  };
</script>